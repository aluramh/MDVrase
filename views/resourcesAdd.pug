extends common/layout

block headerScripts
    link(rel='stylesheet', href='/css/resourcesPage.css')

block content
    ul.nav.nav-tabs
        li.active #[a(data-toggle="tab", href="#marcasResources") Marcas]
        li #[a(data-toggle="tab", href="#empresasResources") Empresas]
        li #[a(data-toggle="tab", href="#polizasResources") Polizas]

    div.jumbotron.jumbotron-fluid
        //- Show message alert, if there's any in Flash-connect
        if message.length > 0
            include common/alertMessages

        div.tab-content
            div#marcasResources.tab-pane.fade.in.active
                h2.text-center Agregar marca de vehiculos
                form#marcaForm(action="/resources/add", method="post")
                    div.row
                        textarea(name="formType", style="display:none;" required, readonly="readonly") addMarca
                        div.col-md-offset-2.col-xs-12.col-md-8.extra-padding
                            label(for="marca") Marca de vehiculo:
                            div.input-group
                                input#marca.form-control(type="text", name="marca", placeholder="Ingresar una marca de vehiculos", required)
                                span.input-group-btn
                                    button.btn.btn-primary(type="submit") Agregar

                
                h2.text-center Lista de marcas
                div.row
                    div.col-md-offset-2.col-md-8
                        table.table.table-bordered
                            thead #[tr]
                                th ID
                                th Nombre marca
                            tbody 
                                each marca in marcas
                                    tr.custom-trow
                                        td #{marca.id_marca}
                                        td #{marca.nombre_marca}
                    
            
            div#empresasResources.tab-pane.fade
                h2.text-center Agregar empresas
                form#empresaForm(action="/resources/add", method="post")
                    div.row
                        textarea(name="formType", style="display:none;" required, readonly="readonly") addEmpresa
                        //- Offset column by 2 and make 8col in width
                        div.col-md-offset-2.col-md-8 
                            //- Inside this 8c element we have 12 available cols.
                            //- First label and input
                            div.col-md-5.no-right-padding
                                label(for="empresa") Nombre de empresa:
                                div.form-group
                                    input#empresa.form-control(type="text", name="empresa", placeholder="Ingresa el nombre de la empresa", required)
                            //- Second input 
                            div.col-md-5.no-right-padding
                                label(for="rfc") RFC de empresa:
                                div.form-group
                                    input#rfc.form-control(type="text", name="rfc", placeholder="Ingresa el RFC de la empresa", required)

                            //- Submit button
                            div.col-md-2
                                label.hidden-sm.hidden-xs(style="visibility: hidden;") &nbsp;
                                div.form-group
                                        button.btn.btn-primary(type="submit") Agregar

                h2.text-center Lista de empresas
                div.row
                    div.col-md-offset-2.col-md-8
                        table.table.table-bordered
                            thead #[tr]
                                th ID
                                th Nombre de empresa
                                th RFC
                            tbody
                                each empresa in empresas
                                    tr.custom-trow
                                        td #{empresa.id_empresa}
                                        td #{empresa.nombre_empresa}
                                        td #{empresa.rfc}

            div#polizasResources.tab-pane.fade
                h2.text-center Lista de polizas
                div.row
                    div.col-md-offset-2.col-md-8
                        table.table.table-bordered
                            thead
                                tr.vertical-aligned-trow
                                    th No. de poliza
                                    th Fecha de expedicion
                                    th Fecha de vencimiento
                                    th Aseguradora
                                    th Vehiculo
                                    th Placas del vehiculo
                            tbody
                                each poliza in polizas
                                    tr.custom-trow.vertical-aligned-trow
                                        td #{poliza.num_poliza}
                                        td #{poliza.fecha_expedicion}
                                        td #{poliza.fecha_vencimiento}
                                        td #{poliza.aseguradora}
                                        td #[a(href="/vehicles/" + poliza.id_carro) #{poliza.modelo} #{poliza.color} #{poliza.year}]
                                        td #{poliza.num_placa}
                            //- /*
                            //- num_poliza
                            //- id_carro
                            //- poliza_actual
                            //- id_carro
                            //- empresa
                            //- num_placa
                            //- foto_vehiculo
                            //- color
                            //- modelo
                            //- marca
                            //- year
                            //- num_serie
                            //- fecha_obtenido
                            //- equipo_extra
                            //- descripcion
                            //- conductor
                            //- num_poliza
                            //- fecha_vencimiento
                            //- fecha_expedicion
                            //- aseguradora
                            //- */

block additionalScripts
    script(src="/plugins/js/moment-with-locales.min.js")
    //- script(src="/plugins/js/bootstrap-datepicker.min.js")
    //- script(src="/plugins/js/bootstrap-datepicker.es.min.js")